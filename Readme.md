# Настройка шардирования и репликации MongoDB

## Шаг 1: Перейдите в директорию проекта

Пожалуйста, перейдите в директорию, где находится файл compose.yaml. Замените <путь_к_вашей_директории> на фактический путь к вашей директории:

```
cd <путь_к_вашей_директории>\sharding-repl-cache
```

Например, если вы находитесь на диске D:, команда может выглядеть так:

```
cd D:\Practicum\GitHub\myProjects\architecture-sprint-2\sharding-repl-cache
```

## Шаг 2: Запустите сервисы с помощью Docker Compose

Запустите контейнеры с помощью Docker Compose в фоновом режиме:

```
docker compose up -d
```

## Шаг 3: Выполните скрипты для инициализации MongoDB

Запустите скрипт инициализации MongoDB. Убедитесь, что вы находитесь в той же директории sharding-repl-cache, где находится папка scripts:


	<путь_к_вашей_директории>\sharding-repl-cache\scripts\mongo-init.sh


## Шаг 4: Проверьте заполнение базы данных

1. Подключитесь к маршрутизатору MongoDB с помощью Docker:

```
docker exec -it mongos_router mongosh --host 173.17.0.12 --port 27020     
```

2. Выполните команду для проверки количества документов:
```
db.helloDoc.countDocuments();     
```

3. Выйдите из консоли MongoDB:
```
exit;     
```
    
---